@model IPagedList<AdminPanelDevice.Models.Trap>

@using PagedList
@using PagedList.Mvc
@using AdminPanelDevice.Helpers
@{

}
<table class="table table-striped table-bordered draggable sortable" style="width:100%" data-toggle="table">
    <thead>
        <tr>
            <th id="countrieColumn">Countrie</th>
            <th id="stateColumn">State</th>
            <th id="cityColumn">City</th>
            <th id="towerColumn">Tower</th>
            <th id="deviceColumn">Device Name</th>
            <th id="ipColumn">IP</th>
            <th id="descriptionColumn">Description</th>
            <th id="oidColumn">OID</th>
            <th id="valueColumn">Value</th>
            <th id="datetimeColumn">Date/Time</th>
            <th id="errorMapColumn" style="display:block">Status</th>
        </tr>
    </thead>
    <tbody id="trap_log_information">
        @foreach (var item in Model)
        {
        <tr style="background-color:@(item.AlarmStatus)">
            <td id="countrieColumn@(item.ID)" value="@item.ID">@item.Countrie</td>
            <td id="stateColumn@(item.ID)" value="@item.ID">@item.States</td>
            <td id="cityColumn@(item.ID)" value="@item.ID">@item.City</td>
            <td id="towerColumn@(item.ID)" value="@item.ID">@item.TowerName</td>
            <td id="deviceColumn@(item.ID)" value="@item.ID">@item.DeviceName</td>
            <td id="ipColumn@(item.ID)" value="@item.ID"><a target="_blank" href="http://@(item.IpAddres)">@item.IpAddres</a></td>
            <td id="descriptionColumn@(item.ID)" value="@item.ID">@item.Description</td>
            <td id="oidColumn@(item.ID)" value="@item.ID">@item.CurrentOID</td>
            <td id="valueColumn@(item.ID)" value="@item.ID">@item.Value</td>
            <td id="datetimeColumn@(item.ID)" value="@item.ID">@item.dateTimeTrap</td>
            <td id="errorMapColumn@(item.ID)" value="@item.ID" >
                <div class="dropdown" id="logList" value="@(item.ID)">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" value="@(item.ID)" id="logListStatus@(item.ID)">
                        <i class="glyphicon glyphicon-th-list"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li style="background-color:green; width:50%; cursor:pointer;"id="logCorrect" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Correct</li>
                        <li style="background-color:red;  width:50%; cursor:pointer;" id="logError" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Error</li>
                        <li style="background-color:yellow;  width:50%;cursor:pointer;" id="logCrash" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Crash</li>
                    </ul>
                </div>
            </td>
        </tr>
        }
    </tbody>
</table>

<div id="page_Log" style="margin-left:25%; display:block">
    @Html.PagedListPager(Model, page => Url.Action("PageLog", new { page }))
</div>

<script src="~/Content/ScriptView/pageListClick.js"></script>
<script src="~/Content/ScriptView/dragtable.js"></script>
<script src="~/Content/ScriptView/sorttable.js"></script>
<link href="~/Content/Style/dataTables.bootstrap.min.css" rel="stylesheet" />
<script src="~/Content/ScriptView/jquery.dataTables.min.js"></script>