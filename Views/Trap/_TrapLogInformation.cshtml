@model IPagedList<AdminPanelDevice.Models.Trap>

@using PagedList
@using PagedList.Mvc
@using AdminPanelDevice.Helpers
@{
    var pagenumber = ViewBag.pageNumber;
    var textcolor = "";
    }
<table class="table table-striped table-bordered draggable sortable" style="width: 99.3%; display: block; overflow: auto;  height: 850px;" data-toggle="table">
    <thead>
        <tr>
            <th id="countrieColumn">Countrie</th>
            <th id="stateColumn">State</th>
            <th id="cityColumn">City</th>
            <th id="towerColumn">Tower</th>
            <th id="deviceColumn">Device Name</th>
            <th id="ipColumn">IP</th>
            <th id="datetimeColumn">Date/Time</th>
            <th id="oidNameColumn">OIDName</th>
            <th id="descriptionColumn">Description</th>
            <th id="valueColumn">Value</th>
            <th id="alarmDescriptionColumn">AlarmDescription</th>
            <th id="oidColumn">CurrentOID</th>
            <th id="oidreturnedColumn">ReturnedOID</th>
            <th id="errorMapColumn" style="display:block">Status</th>
        </tr>
    </thead>
    <tbody id="trap_log_information">
        @foreach (var item in Model)
        {
            if (item.AlarmStatus=="white")
            {
                textcolor = "black";
            }
            else
            {
                textcolor = "white";
            }
            if (item.AlarmStatus == "yellow")
            {
                textcolor = "black";
            }
        <tr style="background-color:@(item.AlarmStatus); color:@(textcolor)">
            <td id="countrieColumn@(item.ID)" value="@item.ID">@item.Countrie</td>
            <td id="stateColumn@(item.ID)" value="@item.ID">@item.States</td>
            <td id="cityColumn@(item.ID)" value="@item.ID">@item.City</td>
            <td id="towerColumn@(item.ID)" value="@item.ID">@item.TowerName</td>
            <td id="deviceColumn@(item.ID)" value="@item.ID">@item.DeviceName</td>
            <td id="ipColumn@(item.ID)" value="@item.ID"><a target="_blank" href="http://@(item.IpAddres)">@item.IpAddres</a></td>
            <td id="datetimeColumn@(item.ID)" value="@item.ID">@item.dateTimeTrap</td>
            <td id="oidNameColumn@(item.ID)" value="@item.ID">@item.OIDName</td>
            <td id="descriptionColumn@(item.ID)" value="@item.ID">@item.Description</td>
            <td id="valueColumn@(item.ID)" value="@item.ID">@item.Value</td>
            <td id="alarmDescriptionColumn@(item.ID)" value="@item.ID">@item.AlarmDescription</td>
            <td id="oidColumn@(item.ID)" value="@item.ID" name="@item.ReturnedOID">@item.CurrentOID</td>
            <td id="oidreturnedColumn@(item.ID)" value="@item.ID" name="@item.ReturnedOID">@item.ReturnedOID</td>
            <td id="errorMapColumn@(item.ID)" value="@item.ID">
                <div class="dropdown" id="logList" value="@(item.ID)">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" value="@(item.ID)" id="logListStatus@(item.ID)">
                        <i class="glyphicon glyphicon-th-list"></i>
                    </button>
                    <ul class="dropdown-menu" style="min-width: 57px;">
                        <li style="background-color:green; cursor:pointer;" id="logCorrect" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Correct</li>
                        <li style="background-color:red;  cursor:pointer;" id="logError" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Error</li>
                        <li style="background-color:yellow; cursor:pointer;" id="logCrash" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Crash</li>
                        <li style="background-color:white; cursor:pointer;" id="logClear" data-toggle="modal" data-target="#statusLogCorrectError" value="@(item.ID)">Clear</li>
                    </ul>
                </div>
            </td>
        </tr>
        }
    </tbody>
</table>

<div id="page_Log" style="margin-left:25%; margin-top:-50px; display:block">

    <!-- log pagelist lenght-->
    <div class="btn-group dropup">
        <button type="button" class="btn btn-secondary dropdown-toggle" id="traplogpagelist" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="margin-left: -100px; top: 51px;">@pagenumber</button>
        <ul class="dropdown-menu logpage" role="menu" id="pagelistlog" style=" margin-left: -100px; top: -86px; min-height: 137px;" >
            <li role="menuitem" class="menuitemLog" id="countrieColumn"><label>20</label></li>
            <li role="menuitem" class="menuitemLog" id="stateColumn"><label>50</label></li>
            <li role="menuitem" class="menuitemLog" id="cityColumn"><label>100</label></li>
            <li role="menuitem" class="menuitemLog" id="towerColumn"><label>500</label></li>
            <li role="menuitem" class="menuitemLog" id="deviceColumn"><label>1000</label></li>
        </ul>
    </div>
    @Html.PagedListPager(Model, page => Url.Action("PageLog", new { page = page }))
</div>

<script src="~/Content/ScriptView/pageListClick.js"></script>
<script src="~/Content/ScriptView/dragtable.js"></script>
<script src="~/Content/ScriptView/sorttable.js"></script>
<link href="~/Content/Style/dataTables.bootstrap.min.css" rel="stylesheet" />
<script src="~/Content/ScriptView/jquery.dataTables.min.js"></script>